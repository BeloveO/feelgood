
<LoginScreen>:
  GridLayout:
    cols:1
    GridLayout:
      cols:1
      padding: 15, 15
      spacing: 20, 20
      Label:
        font_size:'20sp'
        text:"User Login"
      TextInput:
        id: username
        hint_text:"Username"
      TextInput:
        id: password
        password: True
        hint_text:"Password"
      RelativeLayout:
        Button:
          size_hint: 0.3, 0.5
          text:"Login"
          pos_hint: {'center_x':0.5, 'center_y':0.6}
          on_press: root.login(root.ids.username.text, root.ids.password.text)
      Label:
        id: login_wrong
        text:""
    GridLayout:
      cols:2
      size_hint: 0.2, 0.2
      padding: 10, 10
      spacing: 10, 0
      Button:
        text:"Forgot Password?"
        background_color: 1, 1, 1, 0
        opacity: 1 if self.state == 'normal' else 0.5
        color: 0.1, 0.7, 1, 1
        on_press: root.forgotp()
      Button:
        text:"Sign Up"
        background_color: 1, 1, 1, 0
        opacity: 1 if self.state == 'normal' else 0.5
        color: 0.1, 0.7, 1, 1
        on_press: root.sign_up()

<SignUpScreen>:
  GridLayout:
    cols:1
    padding: 20, 20
    spacing: 20, 20
    RelativeLayout:
      ImageButton:
        size_hint: 0.35, 0.35
        pos_hint: {'center_x':0.1, 'center_y':0.2}
        on_press: root.logins()
        source: 'back.png'
    Label:
      font_size:'20sp'
      text:"Sign Up for a Space Journey!"
    TextInput:
      id: username
      hint_text:"New Username"
    TextInput:
      id: password
      hint_text:"New Password"
    TextInput:
      id: otp
      hint_text: "Enter your special number"
    Button:
      text:"Submit"
      on_press: root.add_user(root.ids.username.text, root.ids.password.text, root.ids.otp.text)

<SignUpScreenSuccess>:
  GridLayout:
    cols:1
    padding: 20, 20
    spacing: 30, 30
    Label:
      font_size:'20sp'
      text:"SignUp Successful!"
    Button:
      text:"LogIn Page"
      on_press: root.back_to_login()

<LoginScreenSuccess>:
  GridLayout:
    cols:1
    padding: 30, 30
    spacing: 30, 30
    RelativeLayout:
      ImageButton:
        size_hint: 0.35, 0.35
        pos_hint: {'center_x':0.9, 'center_y':0.8}
        on_press: root.logout()
        source: 'logout_hover.png' if self.hovered else 'logout_nothover.png'
    Label:
      font_size:'15sp'
      text:"How do you feel?"
    TextInput:
      id: feeling
      hint_text:"Things to try: happy, sad, unloved..."
    Button:
      background_color: 1, 1, 1, 0
      opacity: 1 if self.state == 'normal' else 0.5
      color: 0.1, 0.5, 1, 1
      text:"Enlighten me"
      on_press: root.get_quote(root.ids.feeling.text)
    ScrollView:
      Label:
        id: quote
        text: ""
        text_size: self.width, None
        size_hint_y: None
        height: self.texture_size[1]

<ForgotPasswordScreen>:
  GridLayout:
    cols: 1
    padding: 30, 30
    spacing: 30, 30
    RelativeLayout:
      ImageButton:
        size_hint: 0.35, 0.35
        pos_hint: {'center_x':0.1, 'center_y':0.2}
        on_press: root.logins()
        source: 'back.png'
    Label:
      font_size:'20sp'
      text: "Forgot Password"
    TextInput:
      id: username
      hint_text: "Enter Username"
    TextInput:
      id: otp
      hint_text: "Enter Your Secret Number"
    Label:
      id: userfound
      text: ""
    RelativeLayout:
      Button:
        size_hint: 0.3, 0.5
        pos_hint: {'center_x':0.5, 'center_y':0.6}
        text: "Next"
        on_press: root.forgot(root.ids.username.text, root.ids.otp.text)

<NewPasswordScreen>:
  GridLayout:
    cols:1
    padding: 30, 30
    spacing: 30, 30
    RelativeLayout:
      ImageButton:
        size_hint: 0.35, 0.35
        pos_hint: {'center_x':0.1, 'center_y':0.2}
        on_press: root.forgotpa()
        source: 'back.png'
    TextInput:
      id: username
      hint_text: "Username"
    TextInput:
      id: newp
      hint_text: "Enter New Password"
    TextInput:
      id: newpt
      hint_text: "Confirm Password"
    Label:
      id: password_match
      text: ""
    RelativeLayout:
      Button:
        size_hint: 0.3, 0.5
        pos_hint: {'center_x':0.5, 'center_y':0.6}
        text: "Update"
        on_press: root.newpassword(root.ids.username.text, root.ids.newp.text, root.ids.newpt.text)
    RelativeLayout:  
      Button:
        size_hint: 0.3, 0.5
        pos_hint: {'center_x':0.5, 'center_y':0.6}
        text: "LogIn"
        on_press: root.to_login()


<RootWidget>:
  LoginScreen:
    name: "login_screen"
  SignUpScreen:
    name: "signup_screen"
  SignUpScreenSuccess:
    name: "signup_screen_success"
  LoginScreenSuccess:
    name: "loginscreen_success"
  ForgotPasswordScreen:
    name: "forgot_password_screen"
  NewPasswordScreen:
    name: "newpassword_screen"
